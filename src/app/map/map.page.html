<ion-header>
  <ion-toolbar>
    <ion-title>GPS Tracker</ion-title>
    
    <!-- Logout button in the top-right corner -->
    <ion-buttons slot="end">
      <ion-button color="danger" (click)="logout()">
        <ion-icon name="log-out" slot="start"></ion-icon> Logout
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- Device List (Displayed first) -->
  <ion-list lines="none">
    <ion-item *ngFor="let device of devices">
      <ion-label>{{ device.name }}</ion-label>

      <!-- Buttons for Navigation and Tracking -->
      <ion-buttons slot="end">
        <ion-button color="primary" (click)="flyToDevice(device)">
          <ion-icon name="navigate" slot="start"></ion-icon>
          Navigate
        </ion-button>
        <ion-button color="secondary" (click)="showDeviceRoute(device.id)">
          Track Route
        </ion-button>
      </ion-buttons>
    </ion-item>
  </ion-list>

  <!-- Map Display -->
  <div id="map" style="width: 100%; height: 70vh; border-radius: 8px; margin-top: 20px;"></div>

  <!-- Controls Section (Buttons for map control) -->
  <!-- <div class="controls">
    <ion-button expand="full" color="primary" (click)="showClientLocation()">Show My Location</ion-button>
    <ion-button expand="full" color="secondary" (click)="centerMap()">Center Map</ion-button>
  </div> -->
  <ion-button (click)="changeMapStyle('https://demotiles.maplibre.org/styles/streets-v11.json')">Street View</ion-button>
  <ion-button (click)="changeMapStyle('https://demotiles.maplibre.org/styles/outdoors-v11.json')">Outdoors</ion-button>
  <ion-button (click)="changeMapStyle('https://demotiles.maplibre.org/styles/satellite-v9.json')">Satellite</ion-button>
  <ion-button (click)="changeMapStyle('https://demotiles.maplibre.org/styles/dark-v10.json')">Dark Mode</ion-button>
  
  <!-- Zoom Controls -->
  <div class="zoom-controls">
    <ion-button color="tertiary" (click)="zoomIn()">Zoom In</ion-button>
    <ion-button color="tertiary" (click)="zoomOut()">Zoom Out</ion-button>
  </div>

</ion-content>


